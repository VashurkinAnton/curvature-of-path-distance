var type=function(b){return typeof b},jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;
window.ajax=function(b){var a=extend({},b||{});for(key in ajax.settings)void 0===a[key]&&(a[key]=ajax.settings[key]);ajaxStart(a);a.crossDomain||(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!=window.location.host);var c=a.dataType;b=/=\?/.test(a.url);if("jsonp"==c||b)return b||(a.url=appendQuery(a.url,"callback=?")),ajax.JSONP(a);a.url||(a.url=window.location.toString());serializeData(a);b=a.accepts[c];var d={},f=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:window.location.protocol,e=
ajax.settings.xhr(),g;a.crossDomain||(d["X-Requested-With"]="XMLHttpRequest");b&&(d.Accept=b,-1<b.indexOf(",")&&(b=b.split(",",2)[0]),e.overrideMimeType&&e.overrideMimeType(b));if(a.contentType||a.data&&"GET"!=a.type.toUpperCase())d["Content-Type"]=a.contentType||"application/x-www-form-urlencoded";a.headers=extend(d,a.headers||{});e.onreadystatechange=function(){if(4==e.readyState){clearTimeout(g);var b=!1;if(200<=e.status&&300>e.status||304==e.status||0==e.status&&"file:"==f){c=c||mimeToDataType(e.getResponseHeader("content-type"));
var d=e.responseText;try{"script"==c?(0,eval)(d):"xml"==c?d=e.responseXML:"json"==c&&(d=blankRE.test(d)?null:JSON.parse(d))}catch(h){b=h}if(b)ajaxError(b,"parsererror",e,a);else{try{d=JSON.parse(d)}catch(h){}ajaxSuccess(d,e,a)}}else ajaxError(null,"error",e,a)}};e.open(a.type,a.url,"async"in a?a.async:!0);for(name in a.headers)e.setRequestHeader(name,a.headers[name]);if(!1===ajaxBeforeSend(e,a))return e.abort(),!1;0<a.timeout&&(g=setTimeout(function(){e.onreadystatechange=empty;e.abort();ajaxError(null,
"timeout",e,a)},a.timeout));e.send(a.data?a.data:null);return e};function triggerAndReturn(b,a,c){return!0}function triggerGlobal(b,a,c,d){if(b.global)return triggerAndReturn(a||document,c,d)}ajax.active=0;function ajaxStart(b){b.global&&0===ajax.active++&&triggerGlobal(b,null,"ajaxStart")}function ajaxStop(b){b.global&&!--ajax.active&&triggerGlobal(b,null,"ajaxStop")}
function ajaxBeforeSend(b,a){var c=a.context;if(!1===a.beforeSend.call(c,b,a)||!1===triggerGlobal(a,c,"ajaxBeforeSend",[b,a]))return!1;triggerGlobal(a,c,"ajaxSend",[b,a])}function ajaxSuccess(b,a,c){var d=c.context;c.success.call(d,b,"success",a);triggerGlobal(c,d,"ajaxSuccess",[a,c,b]);ajaxComplete("success",a,c)}function ajaxError(b,a,c,d){var f=d.context;d.error.call(f,c,a,b);triggerGlobal(d,f,"ajaxError",[c,d,b]);ajaxComplete(a,c,d)}
function ajaxComplete(b,a,c){var d=c.context;c.complete.call(d,a,b);triggerGlobal(c,d,"ajaxComplete",[a,c]);ajaxStop(c)}function empty(){}
ajax.JSONP=function(b){if(!("type"in b))return ajax(b);var a="jsonp"+ ++jsonpID,c=document.createElement("script"),d={abort:function(){a in window&&(window[a]=empty);ajaxComplete("abort",d,b)}},f,e=document.getElementsByTagName("head")[0]||document.documentElement;b.error&&(c.onerror=function(){d.abort();b.error()});window[a]=function(c){clearTimeout(f);delete window[a];ajaxSuccess(c,d,b)};serializeData(b);c.src=b.url.replace(/=\?/,"="+a);e.insertBefore(c,e.firstChild);0<b.timeout&&(f=setTimeout(function(){d.abort();
ajaxComplete("timeout",d,b)},b.timeout));return d};ajax.settings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain","*/*": "*/*"},crossDomain:!1,timeout:0};
function mimeToDataType(b){return b&&(b==htmlType?"html":b==jsonType?"json":scriptTypeRE.test(b)?"script":xmlTypeRE.test(b)&&"xml")||"text"}function appendQuery(b,a){return(b+"&"+a).replace(/[&?]{1,2}/,"?")}function serializeData(b){"object"===type(b.data)&&(b.data=param(b.data));!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=appendQuery(b.url,b.data))}ajax.get=function(b,a){return ajax({url:b,success:a})};
ajax.post=function(b,a,c,d){"function"===type(a)&&(d=d||c,c=a,a=null);return ajax({type:"POST",url:b,data:a,success:c,dataType:d})};ajax.getJSON=function(b,a){return ajax({url:b,success:a,dataType:"json"})};var escape=encodeURIComponent;function serialize(b,a,c,d){var f="array"===type(a),e;for(e in a){var g=a[e];d&&(e=c?d:d+"["+(f?"":e)+"]");!d&&f?b.add(g.name,g.value):(c?"array"===type(g):"object"===type(g))?serialize(b,g,c,e):b.add(e,g)}}
function param(b,a){var c=[];c.add=function(a,b){this.push(escape(a)+"="+escape(b))};serialize(c,b,a);return c.join("&").replace("%20","+")}function extend(b){Array.prototype.slice.call(arguments,1).forEach(function(a){for(key in a)void 0!==a[key]&&(b[key]=a[key])});return b};